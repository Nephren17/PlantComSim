import matplotlib.pyplot as plt
import math
rate = [0.43333333333333335, 0.5433333333333333, 0.59, 0.5033333333333333, 0.48333333333333334, 0.61, 0.5266666666666666, 0.4033333333333333, 0.6433333333333333, 0.44666666666666666, 0.43333333333333335, 0.65, 0.6966666666666667, 0.5933333333333334, 0.53, 0.61, 0.58, 0.36666666666666664, 0.6, 0.6766666666666666, 0.45, 0.5166666666666667, 0.47333333333333333, 0.6033333333333334, 0.55, 0.5666666666666667, 0.51, 0.6, 0.6833333333333333, 0.53, 0.53, 0.47, 0.4666666666666667, 0.4766666666666667, 0.49666666666666665, 0.5333333333333333, 0.62, 0.5633333333333334, 0.54, 0.5833333333333334, 0.4166666666666667, 0.6733333333333333, 0.41333333333333333, 0.51, 0.63, 0.5233333333333333, 0.5633333333333334, 0.5066666666666667, 0.44, 0.65, 0.5733333333333334, 0.5466666666666666, 0.7433333333333333, 0.6833333333333333, 0.6233333333333333, 0.57, 0.51, 0.6933333333333334, 0.38333333333333336, 0.54, 0.6233333333333333, 0.59, 0.5833333333333334, 0.47333333333333333, 0.55, 0.4666666666666667, 0.5766666666666667, 0.5, 0.6233333333333333, 0.51, 0.6566666666666666, 0.4166666666666667, 0.36333333333333334, 0.51, 0.5133333333333333, 0.55, 0.5266666666666666, 0.48, 0.5233333333333333, 0.57, 0.5933333333333334, 0.46, 0.5233333333333333, 0.56, 0.6, 0.5166666666666667, 0.51, 0.6466666666666666, 0.5166666666666667, 0.45666666666666667, 0.5633333333333334, 0.43, 0.5333333333333333, 0.5266666666666666, 0.5133333333333333, 0.5466666666666666, 0.62, 0.4766666666666667, 0.4633333333333333, 0.5966666666666667]
cc = [math.floor(item*100 + 10) for item in rate]
#for item in rate:
#    cc.append[math.floor(rate*100 + 10)] 

stat = [0]*20

for c in cc:
    idx = c//5 - 1
    stat[idx] = stat[idx] + 1


print(stat)

import matplotlib.pyplot as plt
plt.figure(dpi=300).set_size_inches(6,3.7)
# 准备数据
#x = ['0-5','5-10','10-15', '15-20','20-25', '25-30','30-35', '35-40','40-45', '45-50','50-55', '55-60','60-65', '65-70','70-75', '75-80','80-85', '85-90','90-95', '95-100']
y = stat
xx = range(1,21)
xx = [x*5 for x in xx]
# 绘制柱状图
plt.bar(xx, y,width=4.5)

# 添加标题和标签
plt.title('Survival rate after 1000-day simulation')
plt.xlabel('survival rate')
plt.ylabel('number of cases')
plt.xlim(0,)
plt.ylim(0,)
# 显示图像
plt.savefig("stat.png")